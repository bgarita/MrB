--
-- Dump created on: 2024/03/02 09:05:02
-- Application: mariadb.org binary distribution
-- Host: DESKTOP-T8NBJH5
-- Engine version: 11.0.2-MariaDB
--
USE contaxyz;
CREATE TABLE `faencabe` (
  `facnume` int(11) NOT NULL,
  `clicode` int(10) unsigned NOT NULL COMMENT 'Código de cliente',
  `factipo` tinyint(2) unsigned NOT NULL DEFAULT 0 COMMENT 'Tipo de pago (0 = Desconocido, 1 = Efectivo, 2 = cheque, 3 = tarjeta, 4 = Transferencia)',
  `chequeotar` varchar(45) NOT NULL DEFAULT ' ' COMMENT 'Número de cheque o tarjeta',
  `vend` tinyint(3) unsigned NOT NULL COMMENT 'Código de vendedor',
  `terr` tinyint(3) unsigned NOT NULL COMMENT 'Código de zona o territorio',
  `facfech` datetime NOT NULL COMMENT 'Fecha del documento (factura, NC, ND)',
  `facplazo` smallint(3) unsigned NOT NULL COMMENT 'Plazo en días',
  `facimve` decimal(20,4) NOT NULL DEFAULT 0.0000 COMMENT 'Monto del impuesto (de ventas)',
  `facdesc` decimal(20,4) NOT NULL DEFAULT 0.0000 COMMENT 'Monto de descuento',
  `facmont` decimal(20,4) NOT NULL COMMENT 'Monto neto de la factura',
  `facfepa` datetime NOT NULL COMMENT 'Fecha de cancelación de la factura',
  `facpago` decimal(20,4) NOT NULL DEFAULT 0.0000,
  `facsald` decimal(20,4) NOT NULL COMMENT 'Saldo de la factura',
  `facnpag` tinyint(2) unsigned NOT NULL DEFAULT 1 COMMENT 'Número de pagos',
  `facmpag` decimal(20,4) DEFAULT NULL COMMENT 'Monto de cada pago',
  `facdpago` smallint(5) unsigned DEFAULT NULL COMMENT 'Días entre pago y pago',
  `facfppago` datetime DEFAULT NULL COMMENT 'Fecha del próximo pago',
  `facestado` char(1) NOT NULL DEFAULT '' COMMENT 'Estado de la factura (Blanco = Activa, A = Anulada)',
  `facnd` int(11) NOT NULL DEFAULT 0 COMMENT 'Número de NC o ND (las facturas aparecerán con un cero, las NC con un número positivo y las ND con un número negativo)',
  `user` varchar(40) NOT NULL DEFAULT ' ' COMMENT 'Usuario que registró el documento',
  `referencia` varchar(10) DEFAULT ' ' COMMENT 'Referencia para relacionar algún documento de otro módulo como solicitud de taller, NC, ND, etc.',
  `precio` tinyint(2) unsigned NOT NULL COMMENT 'Categoría de precio',
  `facfechac` datetime NOT NULL COMMENT 'Fecha calendario (fecha del sistema)',
  `ordenc` varchar(10) NOT NULL DEFAULT ' ' COMMENT 'Orden de compra',
  `formulario` int(10) unsigned NOT NULL DEFAULT 0 COMMENT 'Número de formulario pre-impreso',
  `codigoTC` char(3) NOT NULL COMMENT 'Código del tipo del cambio',
  `tipoca` float NOT NULL DEFAULT 1 COMMENT 'Tipo de cambio',
  `faccsfc` tinyint(1) unsigned NOT NULL DEFAULT 0 COMMENT 'Crédito sobre facturas de contado',
  `userAnula` varchar(40) DEFAULT ' ' COMMENT 'Usuario que anula',
  `fechaAnula` datetime DEFAULT NULL COMMENT 'Fecha de anulación',
  `facmonexp` decimal(20,4) NOT NULL DEFAULT 0.0000 COMMENT 'Monto Express',
  `CodExpress` smallint(6) NOT NULL DEFAULT 0 COMMENT 'Código de Tarifa Express',
  `facCerrado` char(1) NOT NULL DEFAULT 'N' COMMENT 'Indica si el registro pertenece o no a un período cerrado (S/N)',
  `autorizaUsr` varchar(40) NOT NULL DEFAULT ' ' COMMENT 'Usuario que autoriza.',
  `no_comprob` varchar(10) NOT NULL DEFAULT ' ' COMMENT 'Número de asiento',
  `tipo_comp` tinyint(2) NOT NULL DEFAULT 0 COMMENT 'Tipo de asiento',
  `impresa` bit(1) NOT NULL DEFAULT b'0' COMMENT 'Estado de la impresión de la factura (1=Impresa, 0=No impresa)',
  `reccaja` int(10) unsigned NOT NULL DEFAULT 0 COMMENT 'Número de recibo de caja',
  `idtarjeta` int(11) NOT NULL DEFAULT 0 COMMENT 'Código de tarjeta',
  `idbanco` int(10) unsigned NOT NULL DEFAULT 0 COMMENT 'Cóigo de la institución bancaria',
  `refHacienda` varchar(20) NOT NULL DEFAULT '' COMMENT 'Número de referencia de la factura registrada en Hacienda',
  `claveHacienda` varchar(50) NOT NULL DEFAULT '' COMMENT 'Número de referencia enviado a Hacienda',
  `consHacienda` varchar(20) NOT NULL DEFAULT ' ' COMMENT 'Consecutivo generado para Hacienda',
  PRIMARY KEY (`facnume`,`facnd`),
  KEY `FK_faencabe_territor` (`terr`),
  KEY `FK_faencabe_vendedor` (`vend`),
  KEY `FK_tipocambio` (`codigoTC`),
  KEY `Index_clicode` (`clicode`),
  KEY `Index_clicode_facsald_facestado` (`clicode`,`facsald`,`facestado`),
  KEY `Index_facfech` (`facfech`),
  KEY `Index_formulario` (`formulario`),
  KEY `Index_reccaja` (`reccaja`),
  KEY `fk_faencabe_tarjeta_idx` (`idtarjeta`),
  KEY `fk_faencabe_banco_idx` (`idbanco`),
  KEY `Index_facCerrado` (`facCerrado`,`facfech`),
  KEY `Index_facfechac` (`facfechac`) USING BTREE,
  CONSTRAINT `FK_faencabe_inclient` FOREIGN KEY (`clicode`) REFERENCES `inclient` (`clicode`) ON UPDATE CASCADE,
  CONSTRAINT `FK_faencabe_territor` FOREIGN KEY (`terr`) REFERENCES `territor` (`terr`) ON UPDATE CASCADE,
  CONSTRAINT `FK_faencabe_tipocambio` FOREIGN KEY (`codigoTC`) REFERENCES `tipocambio` (`codigo`) ON UPDATE CASCADE,
  CONSTRAINT `FK_faencabe_vendedor` FOREIGN KEY (`vend`) REFERENCES `vendedor` (`vend`) ON UPDATE CASCADE,
  CONSTRAINT `fk_faencabe_banco` FOREIGN KEY (`idbanco`) REFERENCES `babanco` (`idbanco`) ON UPDATE CASCADE,
  CONSTRAINT `fk_faencabe_tarjeta` FOREIGN KEY (`idtarjeta`) REFERENCES `tarjeta` (`idtarjeta`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COLLATE=latin1_swedish_ci COMMENT='Encabezado de facturas';
--
-- Dump completed on: 2024/03/02 09:05:02
--
